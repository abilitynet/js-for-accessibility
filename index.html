<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>JS for Accessibility</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="stylesheet" href="css/source-code-pro/source-code-pro.css">
        <link rel="stylesheet" href="css/normalize.css">
        <link rel="stylesheet" href="css/main.css">

        <!-- Jotted styles and scripts -->
        <link rel="stylesheet" href="jotted/jotted.css">
        <script src="jotted/jotted.js"></script>
    </head>
    <body>
        <!--[if lte IE 9]>
            <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
        <![endif]-->
        <a href="#slide" class="skip sr-only focusable">Skip to slide</a>

        <nav id="slide-control">
            <button id="previous-slide" disabled aria-label="Previous slide">Previous slide</button>

            <span aria-live="polite" aria-atomic="true">Slide <strong id="current-slide-counter" tabindex="0">1</strong> of <strong id="total-slide-counter"></strong></span>

            <button id="next-slide" aria-label="Next slide">Next slide</button>
        </nav>

        <main id="slide">
            <!--
                Insert slides here.
                One per <article>, in the order you want.
                They should all have an attribute of hidden except the first one. The script will do the rest!
            -->
            <article>
                <h1>JavaScript for accessibility</h1>
                <h2>Basics of JavaScript, what can go wrong and how to fix it</h2>
                <p>Victor Loux</p>

                <img src="images/abilitynet.jpg" alt="AbilityNet" style="width: 100%; max-width: 300px">

                <label id="disable_code_mirror_label"><input type="checkbox" name="disable_code_mirror"> Disable the advanced code editor (check this if you are using a screen reader)</label>
            </article>

            <article hidden>
                <img src="images/js.png" alt="" class="float-right">
                <h2>What is JavaScript?</h2>

                <ul>
                    <li>The programming language for the Web</li>
                    <li>A programming language is a way to <strong>give orders</strong> to a computer. It's a bit like a human language, but without ambiguity! Each programming language has vocabulary (keywords that each play a specific role) and grammar (rules defining how to write programs in that language).</li>

                    <!-- There's some nitpicking about whether HTML and CSS are 'programming language' since they're just a specification for publishing, they have no control flow -->
                    <li>Web pages use 3 main technologies: <strong title="HyperText Markup Language">HTML</strong> define the structure and the content, <strong title="Cascading Style Sheets">CSS</strong> define the styling, <strong title="JavaScript">JS</strong> allows us to add interactivity and dynamic content.</li>

                    <li>Despite the name: not related to Java!</li>
                </ul>
            </article>

            <article hidden>
                <img src="images/burrito.jpg" alt="" class="float-right">
                <h2>What is a program?</h2>

                <p>It's an ordered sequence of operations for solving a given problem. A program breaks down a complex problem into a series of simple operations. Here's a program that makes a burrito:</p>

                <pre><code class="nohighlight">Begin
    Get out the rice cooker
    Fill it with rice
    Fill it with water
    Cook the rice
    Chop the vegetables
    Stir-fry the vegetables
    Taste-test the vegetables
        If the veggies are good
            Remove them from the stove
        If the veggies aren't good
            Add more pepper and spices
        If the veggies aren't cooked enough
            Keep stir-frying the veggies
    Heat the tortilla
    Add rice to tortilla
    Add vegetables to tortilla
    Roll tortilla
End</code></pre>

                <p>(This is not Javascript!)</p>

                <p>Notice the different types of actions here:</p>
                <ul>
                    <li>simple actions ("get out the rice cooker")</li>
                    <li>conditional actions ("<em>if</em> the veggies are good")</li>
                    <li>actions that are repeated ("<em>keep</em> stir-frying the veggies")</li>
                </ul>
            </article>

            <article hidden id="example-JS-event">
                <h2>What can you do with JavaScript?</h2>

                <p>The most interesting part of JavaScript is that it allows us to manipulate HTML and CSS in real time, and react to events in the browser. Check out the example below:</p>

                <button>A magic button</button>

                <div class="toggled-box red">This box is red</div>
                <pre><code class="html">&lt;div class="<mark>red</mark>"&gt;This box is <mark>red</mark>&lt;/div&gt;</code></pre>

                <h3>We are doing two things here:</h3>
                <ul>
                    <li><strong>listen to the <code>click</code> event</strong> on the <code>&lt;button&gt;</code> element, and run some code when it is clicked</li>
                    <li>that code <strong>manipulates the HTML of our box</strong> to change the value of its <code>class</code> attribute, and the text it contains.</li>
                </ul>

                <p>Of course, <strong>this is a simplistic example</strong>, but you can do very complex things with JavaScript, such as loading content in real-time from a server without reloading the entire page, manipulating strings of text, hiding and showing elements on the page (e.g. menus, accordions), create custom interactive widgets, react to user input (keyboard, mouse and touch)&hellip;</p>

                <p>When used correctly, JavaScript can greatly enhance the user experience. But if some users are not taken into consideration, <strong>it can make their experience worse</strong>. In the example above, we don't have live regions, so screen reader users are not aware that the text in the box has changed when they press the button. Another common occurence is working only with a mouse or touch, but not keyboard.</p>
            </article>

            <article hidden>
                <h2>Instructions</h2>

                <p>Below this paragraph is a console, which allows you to type some JavaScript code and immediately get the result. Try some simple instructions like <code>5&nbsp;+&nbsp;3</code>, or <code>40&nbsp;*&nbsp;28000</code>. To deal with text, you have to wrap it with quotations marks, <code>"like&nbsp;this"</code>. You can concatenate (add) two strings of text with the <code>+</code> operator: try it!</p>

                <div class="console-container">
                    <div class="console"></div>
                </div>

                <p>We will talk more about this later, but you will need to remember that in JavaScript, you need to add a semicolon <code>;</code> after each instruction.</p>
            </article>

            <article hidden>
                <h2>Variables</h2>

                <p>In programming we use a lot of <strong>variables</strong>. These are keywords that retain a certain value, and allows us to avoid duplication, or take data set by the user. Variables, as their name indicate, can change value. Initialise a variable for the first time with the <code>var</code> keyword, followed by its name, then its value. For example <code>var&nbsp;x&nbsp;=&nbsp;4</code>.</p>

                <p>You can change the value of a variable that's already been declared with the <code>=</code> operator. You can then use them in place of a number, for example <code>x + 5</code>.</p>

                <div class="console-container">
                    <div class="console"></div>
                </div>

                <h3>Types</h3>

                <p>Variables can take many possible type of values, for instance:</p>

                <ul>
                    <li>Numbers: for example <code>42</code> or <code>5.2</code></li>
                    <li>Strings: chains of characters surrounded by quotations marks, for example <code>"apples"</code></li>
                    <li>Boolean: this is either the values <code>true</code> or <code>false</code>. This is used very often for making logical statements and conditions; and remembering the <strong>state</strong> of something (for example "pressed or not").</li>
                </ul>

                <p>Try declaring multiple variable and adding them together. See what happens if you add a number to a string, or two strings together!</p>

                <p>You may notice there are some rules about how you can name a variable. Variable names may only contain letters, numbers (but not in the first position) and an underscore (_). See what happens if you try to declare variables called <code>my&nbsp;first&nbsp;name</code>, <code>name-of-the-user</code>, or <code>2nd_favourite_colour</code>.</p>

                <p>It's good practice to give descriptive names, rather than single-letter variables like in maths (<code>x</code>, <code>y</code>, <code>a</code>&hellip;). A common thing to do is using a mix of uppercase and lowercase, for example <code>var myFavouriteFruit = "apple"</code>.</p>
            </article>

            <article hidden id="example-controlflow">
                <h2>Conditions</h2>

                <p>An important part of programming is having a <strong>control flow</strong>. This is where our program can make <strong>decisions</strong>. The most common way to do this is with an <strong>if-else</strong> statement.</p>

                <pre><code class="nohighlight">If <mark>condition</mark> is true, <em>then</em>
    do something
else
    do something else</code></pre>

                <p>The condition is always a <strong>boolean</strong> expression, i.e. it is either <code>true</code> or <code>false</code>. For example, <code>6 + 6 == 3</code> is false, but <code>6 + 6 == 12</code> is true. Of course there is little point in testing fixed values because they will always be true or false, but it becomes interesting with variables as we can change the behaviour dynamically.<p>

                <p>Let's have an example. We will set a variable using the box below, to see if someone is over 18:</p>

                <p><label><code>var age = </code><input type="number" name="value" length="3" value="15"><code>;</code></label></p>

                <pre><code>if(age >= 18) {
    <mark id="if-true">message = "You are an adult!";</mark>
} else {
    <mark id="if-false">message = "Hang on there kiddo, you can't buy alcohol";</mark>
}</code></pre>

                <p aria-live="polite"><code>message</code> is now "<span id="message-result"></span>".</p>

                <h3>Let's break down the syntax</h3>

                <ul>
                    <li><code>if (<em>condition</em>)</code> means "if the condition (what is between the parentheses) is true, then execute the following block".</li>
                    <li><code class="javascript">age >= 18</code> is the condition: it checks whether the variable <code>age</code> is greater than or equal to 18 (<code>>=</code> is like &ge; in maths).</li>
                    <li>The curly braces <code>{ ... }</code> define a <strong>block</strong>. They delimitate the start and end of what we want to run. They're used everywhere in Javascript, not just for conditions. It's also important to know <strong>you can nest them</strong>!</li>
                    <li>The <strong>else</strong> statement say "if the condition above was false, then instead of running the block above, run this one instead." <strong>It is not mandatory</strong> to have an <code>else</code> statement; you can have a condition without it.</li>
                </ul>

                <h3>More examples</h3>

                <h4>Comparison operators</h4>

                <p>In addition to the greater / lesser than operator (&gt;, &ge;, &lt;, &le;) you will also encounter:</p>

                <pre><code>if(age == 36) { &hellip; }</code></pre>

                <p>This means "if the variable <code>age</code> is <strong>exactly equal to</strong>" 36. Note that to say "equal", we use <strong>two</strong> equal signs; this is because a single equal sign is used for assigning a value to a variable. If we wrote <code>age = 36</code> it would mean "set the variable <code>age</code> to be 36", instead of comparing two values.</p>

                <pre><code>if(favouriteFruit != 'banana') { &hellip; }</code></pre>

                <p>This operator, <code>!=</code>, means <em>not equal to</em> (&ne;). You can use it to say what you <em>don't want</em>: it inverses the result.</p>

                <h4>Nesting</h4>
                <pre><code>if(age < 18) {
    if(age >= 16) {
        if(isHavingAMeal == true) {
            message = "OK, maybe you can if your parents are here...";
        }
    }
}</code></pre>

                <h4>Else If</h4>

                <p>You can test over more than one condition when using <code>else if(<em>condition</em>)</code>. Conditions are tested in order until one is true; if none of them is true, then it will fall back on the <code>else</code> block.</p>

                <pre><code>if (weather == "sunny") {
    tip = "T-shirt time!";
} else if (weather == "windy") {
    tip = "Windbreaker life.";
} else if (weather == "rainy") {
    tip = "Bring that umbrella!";
} else if (weather == "snowy") {
    tip = "Just stay inside!";
} else {
    tip = "Not a valid weather type";
}</code></pre>

                <h4>Nesting</h4>

                <p>Here are are nesting several <code>if</code> statements. This allows us to have several conditions one after the other. If the user is under 18, then we check if they are 16 or over. If they are between 16 and 18, then we can check on another boolean variable (are they having a meal?): and if so we can give them a specific message. But this is a pretty long way to do it: we can also write it as...</p>

                <h4>Logic operators</h4>
                <pre><code>if(age < 18 <mark>&amp;&amp;</mark> age >= 16 <mark>&amp;&amp;</mark> isHavingAMeal == true) { &hellip; }</code></pre>

                <p>The <code>&amp;&amp;</code> operator means <strong>AND</strong>. We can have expressions on both side of it, and the entire condition will only be true <string>if all</strong> the statements are true: is the user under 18, over 16, and is having a meal? If so, run the block.<br> There is also an operator for OR, which is two pipe signs (<code>||</code>):</p>

                <pre><code>if(favouriteFruit == "orange" || favouriteFruit == "lemon") {
    message = "Yum! Citrus!";
}</code></pre>

                <p>The block above will run if <code>favouriteFruit</code> is <strong>either</strong> "orange" or "lemon", but not if it is anything else (like "apple" or "banana").</p>


                <h3>Try it!</h3>

                <p>Think you got it? Have a play below!</p>

                <div class="console-container">
                    <div class="console"></div>
                </div>

                <p>You can try to:</p>
                <ul>
                    <li>Write an if block yourself</li>
                    <li>Declare some variables and use operators. You don't need to write <em>if</em> around: see what happens if you type <code>7 &lt; 10</code>, <code>a &lt; 16 &amp;&amp; a &gt; 18</code>&hellip;</li>
                    <li>Write an if-elseif-else statement which prints a different message if a variable is a negative number, zero, or positive.</li>
                </ul>
            </article>

            <article hidden>
                <h2>Functions</h2>

                <p>Functions are another important aspect of code. They allow you to repeat the same block of code without having to copy and paste the same code over and over. Functions are first <strong>defined</strong> somewhere, this is when we define what they will do</p>

                <pre><code>function sayHello() {
    console.println("Hello, AbilityNet!")
}</code></pre>

                <p>We have the keyword <strong>function</strong> to say what it is (a bit like <code>var</code>), and then the name of the function (<strong>sayHello</strong>), parentheses (we'll talk about these later) and braces to start a <strong>block</strong>, to define the start and end of the function code.<p>

                <p>Once you've defined a function once, you can <strong>call</strong> it later in your program. This is done by using the name of the function with parentheses:</p>

                <pre><code>sayHello();
sayHello();</code></pre>

                <p>Our console will output:</p>

                <pre><code>Hello, AbilityNet!
Hello, AbilityNet!</code></pre>

                <p>Functions are interesting because they can also take <strong>arguments</strong>. This means what they do can depend on an input parameter. This is what the parentheses are for: they can contain a list of arguments. Our function <code>sayHello</code> did not have any argument, but we can define them in the definition and the call:</p>

                <pre><code>function double(<mark>number</mark>) {
    console.log(number * 2);
}

double(<mark>6</mark>); // 12
double(<mark>10</mark>); // 20
double(<mark>0.5</mark>); // 0.25</code></pre>

                <p>(you may note that in the definition, we actually called a function called <code>console.log</code>, with a string as an argument. We'll talk about dots in function names later).</p>

                <p>More arguments can be separated with a comma, like <code>add(number1, number2, number3)</code>. Try to define and call such function that adds 3 numbers below:</p>

                <div class="console-container">
                    <div class="console"></div>
                </div>

            </article>


            <article hidden>
                <h2>Manipulating HTML from Javascript</h2>

                <p>@TODO</p>
                <p>Getting more into the meat of JS for accessibility: selecting elements (showing both HTML and JS), and doing things to them.</p>

                <div class="bin">
                    <code class="code-html nohighlight"><!-- <h1>
  Pen Plugin {-- hey --}
</h1> --></code>
                    <code class="code-js nohighlight"><!-- console.log("Hello World") --></code>
                    <code class="code-css nohighlight"><!-- body {
  background: yellow;
} --></code>
                </div>

                <p>Talk about objects and methods, which are functions with dots in it (eg element.style.color) Possibly have a Codepen/JSBin here as a console may not be enough to watch changes in real time to HTML.</p>
            </article>

            <article hidden>
                <h2>Event handlers</h2>

                <p>Now that we've looked at functions and selecting HTML elements, we can start looking at <strong>event handlers.</strong> These are functions called when a specific <strong>event</strong> happens on an element that we've selected; an event can be a <strong>click</strong> (with a mouse, or touch on mobile), a key press, a value changing (e.g. a checkbox becoming unchecked), the mouse simply going over an element (without clicking), etc.</p>

                <p>Consider the following HTML:</p>

                <pre><code>&lt;button class="magic_button"&gt;Make box bigger&lt;/button&gt;

&lt;div class="box"&gt;&lt;/div&gt;</code></pre>

                <button class="magic_button_off">Make box bigger</button>
                <div class="box_off"></div>

                <p>Of course, nothing happens yet when you press it. We cannot just set the size of the box in code anywhere, because it would expand immediately and not react to the button. We want to <strong>create a function</strong> that will make the box bigger, say <code>makeBoxBigger()</code>, and <strong>only call this function when the button is pressed</strong>.</p>

                <p>This is done by using <code><em>element</em>.addEventListener(eventType, functionToCall)</code>. This is a method, applied to an element, as we've seen before. It says "keeps listening for <em>eventType</em> on this <em>element</em>. When this type of event happens, then call <em>functionToCall</em>".</p>

                <p>So in our example, we'll have our element called <code>magicButton</code>, the <code>eventType</code> is going to be <code>click</code>, and the function is going to be <code>makeBoxBigger</code>. Let's try below:</p>

                <p>@TODO Jotter/fiddle with the code above</p>
                <div class="bin"></div>

                <p>@TODO</p>
                <p>Using functions to react to click and buttons, and keyboad inputs. Introduce issues with keyboard accessibility</p>
            </article>


            <article hidden>
                <h2>Moving focus programmatically</h2>

                <p>@TODO</p>
                <p>Have examples with very visible focus on elements. What can go wrong with it when set programmatically.</p>
            </article>

            <article hidden>
                <h2>Basics of ARIA</h2>

                <p>@TODO</p>
                <p>What it is, what it can do well, what it can do but shouldn't be used to do, and apply it on some examples with JavaScript by changing specific states (building an accordion, and a modal dialog)</p>
            </article>

            <!--
            <article hidden>
                <a class="jsbin-embed" href="https://jsbin.com/poxehux/embed?html,js,output"> on jsbin.com</a>
            </article> -->

            <article hidden>
                <h2>Sources and references</h2>

                <ul>
                    <li><a href="https://openclassrooms.com/courses/learn-the-basics-of-javascript/introduction-to-programming">OpenClassrooms</a></li>
                </ul>
            </article>
        </main>

        <!-- Scripts -->
        <link rel="stylesheet"
      href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/atom-one-light.min.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>

        <script src="js/slides.js"></script>

        <script src="https://static.jsbin.com/js/embed.min.js?4.0.4"></script>

        <style media="screen" id="iframeheight">
            iframe { height: auto; }
        </style>
    </body>
</html>
